## Js 高阶函数 HOF

> 高阶函数（Higher-order function）英文简称 HOF。

什么是「高阶函数」?

简单来说，就是：接受函数式参数或者返回函数的函数称为「高阶函数」。

也就是说「高阶函数」是指至少满足下列条件之一的函数：

- 函数可以作为参数被传递

- 函数可以作为返回值输出

## 纯函数

纯函数是满足如下条件的函数：

- 相同输入总是会返回相同的输出。

- 不产生副作用。

- 不依赖于外部状态。

如果调用一个函数，但是不使用其返回值，这个函数还意义，那么它毫无疑问是一个非纯函数。对于纯函数，那就是一个空操作。

1. 纯函数结果只依赖于参数，与函数外部变量无关。

2. 纯函数不会产生任何可观察的副作用

- 不能发起 `HTTP` 请求

- 不能操作 `DOM`

- 不能修改外部数据

- 不能 `console.log()` 打印数据

- 不能调用 `Date.now()` 或者 `Math.random()`

## 箭头函数与普通函数比较

主要区别包括：

1. 箭头函数没有 `this`，所以需要通过查找作用域链来确定 `this` 的值。

这就意味着如果箭头函数被非箭头函数包含，this 绑定的就是最近一层非箭头函数的 this。

[ES6 系列之箭头函数](https://github.com/mqyqingfeng/Blog/issues/85)

2. 箭头函数没有自己的 `arguments` 对象，这不一定是件坏事，因为箭头函数可以访问外围函数的 `arguments` 对象。

3. 箭头函数不能通过 `new` 关键字调用

`JavaScript` 函数有两个内部方法：`[[Call]]` 和 `[[Construct]]`。

当通过 `new` 调用函数时，执行 `[[Construct]]` 方法，创建一个实例对象，然后再执行函数体，将 `this` 绑定到实例上。

当直接调用的时候，执行 `[[Call]]`方法，直接执行函数体。

箭头函数并没有 `[[Construct]]` 方法，不能被用作构造函数，如果通过 `new` 的方式调用，会报错。

4. 因为不能使用 `new` 调用，所以也没有 `new.target` 值。

5. 由于不能使用 `new` 调用箭头函数，所以也没有构建原型的需求，于是箭头函数也不存在 `prototype` 这个属性

6. 连原型都没有，自然也不能通过 `super` 来访问原型的属性，所以箭头函数也是没有 `super` 的，不过跟 `this` 、`arguments` 、`new.target` 一样，这些值由外围最近一层非箭头函数决定。

箭头函数表达式的语法比函数表达式更短，并且不绑定自己的 `this` 、`arguments` 、`new.target` 或 `super`。这些函数表达式最适合用于非方法函数(non-method functions / 指不被用作对象属性中的函数)，并且它们不能用作构造函数。

## 函数参数是深拷贝还是浅拷贝
