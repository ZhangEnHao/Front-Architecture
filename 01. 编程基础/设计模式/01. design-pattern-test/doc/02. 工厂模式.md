## UML 类图编码

```JavaScript
class Product {
  constructor(name) {
    this.name = name
  }

  init() {
    alert(`init`)
  }

  fn1() {
    alert(`fn1`)
  }

  fn2() {
    alert(`fn2`)
  }
}

class Creator {
  create(name) {
    return new Product(name)
  }
}

let create = new Creator();
let product = create.create("1");
product.init();
product.fn1();
```

## JQuery

```HTML
<body>
  <div></div>
</body>
```

```JavaScript

class JQuery {
  constructor(selector = "") {
    let slice = Array.prototype.slice;
    let dom = slice.call(document.querySelectorAll(selector));
    let len = dom ? dom.length : 0;
    for(let i = 0; i < len; i++) {
      this[i] = dom[i]
    }
    this.length = len;
    this.selector = selector;
  }
  append(node) {

  }
  addClass(node) {
    
  }
  html(node) {
    
  }
  // ...此处省略若干 API 
}

window.$ = function(selector) {
  return new JQuery(selector)
}

let div = $("div");
console.log(div); // JQuery {0: div, length: 1, selector: "div"}
console.log(div[0]); // <div></div>
```

- $("div") 和 new $("div") 有何区别

  1. 书写麻烦，JQuery 的链式操作将成噩梦

  2. 一旦 JQuery 名字发生变化，将是灾难性的


## 设计原则验证

- 构造函数和创建者分离

- 符合开发封闭原则
